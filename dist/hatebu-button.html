<link rel="import" href="../../polymer/polymer.html">

<polymer-element name="hatebu-button" attributes="href title baloon">
    <script>
        Polymer('hatebu-button', {
            href : 'http://customelements.io',
            title: 'customeelements',
            baloon: 'standard-balloon',

            ready: function () {
                var script = document.createElement("script"),
                    a = document.createElement("a"),
                    img = document.createElement("img");

                a.setAttribute("href", "http://b.hatena.ne.jp/entry/" + this.href);
                a.setAttribute("class", "hatena-bookmark-button");
                a.setAttribute("data-hatena-bookmark-layout", this.baloon);
                a.setAttribute("data-hatena-bookmark-title", this.title);
                if (this.baloon === 'standard-baloon'){
                    a.setAttribute("data-hatena-bookmark-lang", "ja");
                }
                a.setAttribute("title", 'このエントリーをはてなブックマークに追加');

                img.setAttribute("src", "https://b.hatena.ne.jp/images/entry-button/button-only.gif");
                img.setAttribute("alt", "このエントリーをはてなブックマークに追加");
                img.setAttribute("width", '20');
                img.setAttribute("height", '20');
                img.setAttribute("style", 'border: none;');

                script.setAttribute("type", "text/javascript");
                script.setAttribute("src", "https://b.hatena.ne.jp/js/bookmark_button.js");
                script.setAttribute("async", true);
                script.setAttribute("charset", "utf-8");

                this.appendChild(a);
                a.appendChild(img);
                this.appendChild(script);
            }
        });
    </script>
</polymer-element>
